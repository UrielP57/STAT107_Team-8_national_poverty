---
title: "Cleaning process of Project PHC"
author: "Donnie, Marianne, Uriel"
date: "`r Sys.Date()`"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r}
ND <- read.csv("New_DDAY.csv")
ND2 <- read.csv("NEW_DDAY_dos.csv")
API <- read.csv("API_A.csv")
SN_API <- read.csv("API_B.csv")
Pop_Growth <- read.csv("Pop_Growth.csv")
```

#Code for New_DDAY

```{r}
#Item names: row_ND, not_imp, ind_row, RC, row_ND,vari_RC.
row_ND <- c() 
not_imp <- c() #useless vector
for (ind_row in rownames(ND)){
  for (i in ND[ind_row,]){
    RC <- as.character(i)
    if (is.na(RC)){
      RC <- 0
      row_ND <- c(row_ND, RC)
      
     } else {
       vari_RC <- suppressWarnings(as.numeric(RC))
                                      
                                      
        if (!is.na(vari_RC)){
          row_ND <- c(row_ND, RC)
          }  else if (RC != ""){
          not_imp <- c(not_imp, RC)
          }
    }
  }
}
```

# find_ND: Get groups of 270 and each group has a length of 65. Then use split() to apply that row_ND
```{r}
a <- row_ND
ND_by_65 <- rep(1:270, each = 65)
fin_ND <- split(a, ND_by_65)

```


## Data Frame for ND with rows and columns switched: df_ND
```{r}
# must have this chunk running first if you want the other similar section to function!!
col_nm <- ND[,1][5:270]
df_ND <- data.frame(fin_ND[5:270])

colnames(df_ND) <- c(col_nm)
years <- c(1960:2024) 
rownames(df_ND) <- c(years)
```

##Supporting data sets: API and Pop_Growth

```{r}
#Item names: row_API, not_imp_2, ind_API, RC_2,vari_RC_2.
row_API <- c() 
not_imp_2 <- c() #useless vector
for (ind_API in rownames(API)){
  for (i in API[ind_API,]){
    RC_2 <- as.character(i)
    if (is.na(RC_2)){
      RC_2 <- 0
      row_API <- c(row_API, RC_2)
      
     } else {
       vari_RC_2 <- suppressWarnings(as.numeric(RC_2))
                                    
                                    
        if (!is.na(vari_RC_2)){
          row_API <- c(row_API, RC_2)
          } else if (RC_2 != ""){
          not_imp_2 <- c(not_imp_2, RC_2)
        }
    }
  }
}
```

#Look at main data set grouping section for explanation
```{r}
b <- row_API
API_by_65 <- rep(1:270, each = 65)
fin_API <- split(b, API_by_65)
```

##Data Frame for API with rows and columns switched: df_API
```{r}
col_nm_2 <- API[,1][5:270]
df_API <- data.frame(col_nm = fin_API[5:270])

colnames(df_API) <- c(col_nm_2)
rownames(df_API) <- c(years)
```



##Pop_Growth
```{r}
#Item names: row_PG, NI, ind_PG, RC_3,vari_RC_3.
row_PG <- c()
NI <- c() #useless vector
for (ind_PG in rownames(Pop_Growth)){
  for (i in Pop_Growth[ind_PG,]){
    RC_3 <- as.character(i)
    if (is.na(RC_3)){
      RC_3 <- 0
      row_PG <- c(row_PG, RC_3)
      
     } else {
       vari_RC_3 <- suppressWarnings(as.numeric(RC_3))
                                    
                                    
                                    
      if (!is.na(vari_RC_3)){
        row_PG <- c(row_PG, RC_3)
      } else if (RC_3 != ""){
        NI <- c(NI, RC_3)
        }
    }
  }
}
```

#Look at main data set grouping section for explanation
```{r}
c <- row_PG
PG_by_65 <- rep(1:270, each = 65)
fin_PG <- split(c, PG_by_65)
```

##Data Frame for Pop_Growth with rows and columns switched: df_PG
```{r}
col_nm_3 <- Pop_Growth[,1][5:270]
df_PG <- data.frame(col_nm = fin_PG[5:270])

colnames(df_PG) <- c(col_nm_3)
rownames(df_PG) <- c(years)

```